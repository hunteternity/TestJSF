<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:p="http://primefaces.org/ui" 
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ris="http://java.sun.com/jsf/composite/ris" 
	xmlns:ms="http://java.sun.com/jsf/composite/ms"
	xmlns:rist="http://risfaces.iisigroup.com/rist">
	<style type="text/css">
	.editDataTable {
		width:1030px;
	}
	
	.editDataTable thead th {
		background: #d7ebf9
		url("#{resource['primefaces-ris3cupertino:images/ui-bg_glass_80_d7ebf9_1x400.png']}")
		50% 50% repeat-x;
		text-align:center;
		color:#2779AA;
		font-weight:900;
	}
	
	.editDataTable th {
		padding-right:0.5em;
		font-weight:100;
		text-align:right; 
	}
	
	.editDataTable td {
		vertical-align:bottom;
	}
	</style>
	<p:dialog closable="false" id="editcd" modal="true" width="1080" height="600" header="資料修改" severity="alert" widgetVar="editcd">
			<p:scrollPanel style="height:35em;width:65em;">
				<table  class="editDataTable">
					<thead>
						<tr>
							<th width="20%">Columns</th>
							<th>Datas</th>
						</tr>
					</thead>
					<ui:repeat var="itemkey" value="#{db00200Controller.result.columnsKey}" varStatus="itemVarStatus">
						<tr>
							<th width="20%">
							<h:outputText style="color:red;"
									value="*" 
									rendered="#{db00200Controller.keyList[itemVarStatus.index]=='Y'}"/>
							<h:outputText value="#{itemkey}:"/>
							</th>
							<td>
								<h:outputText 
									value="#{db00200Controller.dataList[itemVarStatus.index]}" 
									rendered="#{db00200Controller.keyList[itemVarStatus.index]=='Y'}"/>
								<p:inputText style="width:96%"
									value="#{db00200Controller.dataList[itemVarStatus.index]}" 
									rendered="#{db00200Controller.keyList[itemVarStatus.index]=='N'}"/>
							</td>
						</tr>
					</ui:repeat>
				</table>
			</p:scrollPanel>
			
			<p:commandButton value="#{loginUser.userInfo.routineModifer?'儲存':'異動資料申請'}" process="@form" update="@form" 
					action="#{db00200Controller.doUpdate}" 
					onstart="submitStart()" 
					oncomplete="submitComplete();editcd.hide()" >
			</p:commandButton>
			<p:commandButton value="取消" type="button" process="@none" update="@none"
					onclick="editcd.hide()"/>
	</p:dialog>

</ui:composition>
