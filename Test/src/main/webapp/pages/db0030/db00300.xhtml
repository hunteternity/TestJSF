<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:ris="http://java.sun.com/jsf/composite/ris" xmlns:ms="http://java.sun.com/jsf/composite/ms" xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/WEB-INF/template/default.xhtml">


	<ui:define name="right">
		<p:panel header="使用者清單">
			<h:form>
				<p:remoteCommand name="updateMasters" process="@none" update="@form" />

				<ms:popupOpenButton pid="popupAdd" value="新增" action="#{db00300Controller.doInitPopup('add')}">
				</ms:popupOpenButton>
				
				<br />
				<h:panelGroup rendered="#{not empty db00300Controller.users}">
					<ui:include src="db00300_List.xhtml" />
				</h:panelGroup>
			</h:form>
		</p:panel>
	</ui:define>

	<ui:define name="dialogs">
		<!-- Pop up window. [Add] -->
		<h:form>
			<ms:popupPanel pid="popupAdd" popupController="#{db00300Controller}" popupHeader="新增使用者" popupRendered="#{db00300Controller.newUserInfo!=null}">
				<ui:include src="db00300_Add.xhtml" />
			</ms:popupPanel>
		</h:form>

		<!-- Pop up window. [Edit] -->
		<h:form>
			<ms:popupPanel pid="popupEdit" popupController="#{db00300Controller}" popupHeader="編輯使用者" popupRendered="#{db00300Controller.detail!=null}">
				<ui:include src="db00300_Edit.xhtml" />
			</ms:popupPanel>
		</h:form>

	</ui:define>

</ui:composition>

