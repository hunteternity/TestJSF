<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:ris="http://java.sun.com/jsf/composite/ris" 
	xmlns:ms="http://java.sun.com/jsf/composite/ms" xmlns:c="http://java.sun.com/jsp/jstl/core">
	
	<p:dataTable 
		emptyMessage="#{risUIConstants.emptyMessage}" 
		filteredValue="#{db002A0Controller.filters}" 
		id="results" 
		paginator="true" rows="10"
		var="item" 
		value="#{db002A0Controller.results}" 
		rowIndexVar="itemIndex" 
		paginatorPosition="bottom" 
		paginatorTemplate="#{risUIConstants.paginatorTemplate} #{risUIConstants.pageCountText} #{fn:length(db002A0Controller.results)}"
		rendered="#{db002A0Controller.showResult}" 
		widgetVar="resultTable">
					
		<p:column headerText="" style="width:2%">
			<h:outputText value="#{itemIndex+1}" />
		</p:column>
		<p:column style="width:85%" headerText="SQL" 
			filterMatchMode="contains" 
			filterBy="#{item.sqlQuery}">  
			<h:outputText value="#{item.sqlQuery}" />  
		</p:column>
		<p:column headerText="" style="width:15%;text-align:center;">
			<ms:popupOpenButton 
				pid="popupConfirm" 
				value="編輯">
				<f:setPropertyActionListener 
				value="#{item}" 
				for="button" 
				target="#{db002A0Controller.dbusersql}" />
			</ms:popupOpenButton>
			
			<ms:popupOpenButton 
				pid="popupDelConfirm" 
				value="刪除">
				<f:setPropertyActionListener 
				value="#{item}" 
				for="button" 
				target="#{db002A0Controller.dbusersql}" />
			</ms:popupOpenButton>
		</p:column>
		
	</p:dataTable>

</ui:composition>

